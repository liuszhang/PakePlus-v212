import{r as n,j as e,T as w,S as F,D as I,a as R,B as N,R as E,b as K,C as m,d as r,f as y,l as h,i as x,X as g,Y as j,h as p,m as u,n as v,F as A}from"./index-DFx7F7AW.js";const{Title:b,Paragraph:O}=w,{RangePicker:P}=I,{Option:C}=R,d=[{name:"系统A",dailyCalls:1200,avgResponseTime:18,successRate:99.8},{name:"系统B",dailyCalls:800,avgResponseTime:15,successRate:99.9},{name:"系统C",dailyCalls:1500,avgResponseTime:12,successRate:99.7},{name:"系统D",dailyCalls:600,avgResponseTime:22,successRate:99.5},{name:"系统E",dailyCalls:1e3,avgResponseTime:16,successRate:99.6}],L=[{key:"1",systemName:"系统A",date:"2024-10-28",calls:1250,errors:3,avgTime:18.2},{key:"2",systemName:"系统B",date:"2024-10-28",calls:820,errors:1,avgTime:14.8},{key:"3",systemName:"系统C",date:"2024-10-28",calls:1530,errors:5,avgTime:11.9},{key:"4",systemName:"系统D",date:"2024-10-28",calls:580,errors:10,avgTime:22.4},{key:"5",systemName:"系统E",date:"2024-10-28",calls:990,errors:4,avgTime:15.7}],l=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],X=({onExport:c})=>{const[T,f]=n.useState(null),[i,k]=n.useState("all"),[S,o]=n.useState(!1),B=[{title:"系统名称",dataIndex:"systemName",key:"systemName"},{title:"日期",dataIndex:"date",key:"date"},{title:"调用次数",dataIndex:"calls",key:"calls"},{title:"错误次数",dataIndex:"errors",key:"errors"},{title:"平均响应时间(ms)",dataIndex:"avgTime",key:"avgTime"}],D=()=>{o(!0),setTimeout(()=>{o(!1),c&&c(),console.log("系统使用报表导出成功")},1e3)},t=i==="all"?d:d.filter(s=>s.name===i);return e.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx(b,{level:4,children:"系统使用情况"}),e.jsx(O,{type:"secondary",children:"本报表展示各系统的使用情况、调用量、响应时间等性能指标，帮助了解系统运行状况。"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[e.jsxs(F,{children:[e.jsx(P,{value:T,onChange:s=>f(s),placeholder:["开始日期","结束日期"]}),e.jsxs(R,{value:i,onChange:k,style:{width:150},children:[e.jsx(C,{value:"all",children:"全部系统"}),d.map(s=>e.jsx(C,{value:s.name,children:s.name},s.name))]})]}),e.jsx(N,{type:"primary",icon:e.jsx(E,{}),onClick:D,loading:S,children:"导出报表"})]}),e.jsxs(K,{gutter:[16,16],style:{marginBottom:24},children:[e.jsx(m,{span:12,children:e.jsx(r,{title:"系统每日调用量",style:{height:350},children:e.jsx(y,{width:"100%",height:290,children:e.jsxs(h,{data:t,children:[e.jsx(x,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"name"}),e.jsx(j,{}),e.jsx(p,{}),e.jsx(u,{dataKey:"dailyCalls",name:"每日调用量",children:t.map((s,a)=>e.jsx(v,{fill:l[a%l.length]},`cell-${a}`))})]})})})}),e.jsx(m,{span:12,children:e.jsx(r,{title:"系统响应时间对比",style:{height:350},children:e.jsx(y,{width:"100%",height:290,children:e.jsxs(h,{data:t,children:[e.jsx(x,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"name"}),e.jsx(j,{}),e.jsx(p,{}),e.jsx(u,{dataKey:"avgResponseTime",name:"平均响应时间(ms)",children:t.map((s,a)=>e.jsx(v,{fill:l[a%l.length]},`cell-${a}`))})]})})})})]}),e.jsx(r,{title:"系统使用详细数据",style:{flex:1,overflow:"hidden"},children:e.jsx("div",{style:{height:300,overflow:"auto"},children:e.jsx(A,{columns:B,dataSource:L,pagination:{pageSize:5},rowKey:"key"})})})]})};export{X as default};
