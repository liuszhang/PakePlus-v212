import{r as n,j as e,T as B,S as D,D as A,a as C,B as F,R as P,b as K,C as r,d as l,f as o,P as k,g as L,n as y,h as d,l as m,i as p,X as g,Y as u,o as f,m as c}from"./index-DFx7F7AW.js";const{Title:$,Paragraph:z}=B,{RangePicker:W}=A,{Option:v}=C,a=[{name:"系统接口",value:25},{name:"工具组件",value:15},{name:"数据服务",value:10},{name:"API网关",value:5},{name:"其他资源",value:5}],E=[{name:"资源库",systems:8,tools:12},{name:"体系库",systems:5,tools:8},{name:"需求库",systems:3,tools:4},{name:"产品库",systems:6,tools:9},{name:"受控库",systems:4,tools:6},{name:"开发库",systems:7,tools:11}],i=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"],O=({onExport:h})=>{const[T,R]=n.useState(null),[x,b]=n.useState("type"),[S,j]=n.useState(!1),w=()=>{j(!0),setTimeout(()=>{j(!1),h&&h(),console.log("资源分布报表导出成功")},1e3)};return e.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{marginBottom:24},children:[e.jsx($,{level:4,children:"资源分布统计"}),e.jsx(z,{type:"secondary",children:"本报表展示系统中各类资源的分布情况，包括资源类型统计和不同库中的资源分布。"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[e.jsxs(D,{children:[e.jsx(W,{value:T,onChange:s=>R(s),placeholder:["开始日期","结束日期"]}),e.jsxs(C,{value:x,onChange:b,style:{width:150},children:[e.jsx(v,{value:"type",children:"按资源类型"}),e.jsx(v,{value:"library",children:"按所属库"})]})]}),e.jsx(F,{type:"primary",icon:e.jsx(P,{}),onClick:w,loading:S,children:"导出报表"})]}),e.jsx(K,{gutter:[16,16],style:{flex:1},children:x==="type"?e.jsxs(e.Fragment,{children:[e.jsx(r,{span:10,children:e.jsx(l,{title:"资源类型分布",style:{height:400},children:e.jsx(o,{width:"100%",height:340,children:e.jsxs(k,{children:[e.jsx(L,{data:a,cx:"50%",cy:"50%",labelLine:!0,label:({name:s,percent:t})=>`${s}: ${(t||0)*100}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:a.map((s,t)=>e.jsx(y,{fill:i[t%i.length]},`cell-${t}`))}),e.jsx(d,{formatter:s=>[`数量: ${s}`,"资源数量"]})]})})})}),e.jsx(r,{span:14,children:e.jsx(l,{title:"资源类型数量统计",style:{height:400},children:e.jsx(o,{width:"100%",height:340,children:e.jsxs(m,{data:a,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"name"}),e.jsx(u,{}),e.jsx(d,{}),e.jsx(f,{}),e.jsx(c,{dataKey:"value",name:"资源数量",children:a.map((s,t)=>e.jsx(y,{fill:i[t%i.length]},`cell-${t}`))})]})})})})]}):e.jsx(r,{span:24,children:e.jsx(l,{title:"各库资源分布",style:{height:400},children:e.jsx(o,{width:"100%",height:340,children:e.jsxs(m,{data:E,children:[e.jsx(p,{strokeDasharray:"3 3"}),e.jsx(g,{dataKey:"name"}),e.jsx(u,{}),e.jsx(d,{}),e.jsx(f,{}),e.jsx(c,{dataKey:"systems",name:"系统数量",fill:"#8884d8"}),e.jsx(c,{dataKey:"tools",name:"工具数量",fill:"#82ca9d"})]})})})})}),e.jsx(l,{style:{marginTop:16},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-around"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#1890ff"},children:"60"}),e.jsx("div",{style:{color:"#666",marginTop:4},children:"总资源数量"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#52c41a"},children:"33"}),e.jsx("div",{style:{color:"#666",marginTop:4},children:"系统资源"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#faad14"},children:"27"}),e.jsx("div",{style:{color:"#666",marginTop:4},children:"工具资源"})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f5222d"},children:"6"}),e.jsx("div",{style:{color:"#666",marginTop:4},children:"资源库数量"})]})]})})]})};export{O as default};
